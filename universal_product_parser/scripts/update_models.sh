#!/bin/bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ML –º–æ–¥–µ–ª–µ–π

source venv/bin/activate

echo "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ML –º–æ–¥–µ–ª–µ–π..."
echo "==========================="

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π
mkdir -p models

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞
echo "üì• –ó–∞–≥—Ä—É–∑–∫–∞ U2-Net –º–æ–¥–µ–ª–∏..."
python -c "
from rembg import new_session
try:
    session = new_session('u2net')
    print('‚úÖ –ú–æ–¥–µ–ª—å U2-Net –æ–±–Ω–æ–≤–ª–µ–Ω–∞')
except Exception as e:
    print(f'‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏: {e}')
"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Spacy –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
echo "üì• –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ NLP –º–æ–¥–µ–ª–∏..."
python -c "
import spacy
try:
    nlp = spacy.load('ru_core_news_lg')
    print('‚úÖ NLP –º–æ–¥–µ–ª—å —É–∂–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞')
except OSError:
    print('üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NLP –º–æ–¥–µ–ª–∏...')
    spacy.cli.download('ru_core_news_lg')
    print('‚úÖ NLP –º–æ–¥–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞')
"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π —Å–∏–Ω–æ–Ω–∏–º–æ–≤
echo "üì• –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π —Å–∏–Ω–æ–Ω–∏–º–æ–≤..."
python -c "
import nltk
nltk.download('wordnet')
nltk.download('omw-1.4')
print('‚úÖ –°–ª–æ–≤–∞—Ä–∏ NLTK –æ–±–Ω–æ–≤–ª–µ–Ω—ã')
"

echo "‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!"
