# 🏗️ Архитектура системы

╔═════════════════════════════════════════════════════════════════════════╗
║                    UNIVERSAL PRODUCT PARSER v1.0                       ║
║                     АРХИТЕКТУРНЫЙ ОБЗОР                                ║
╚═════════════════════════════════════════════════════════════════════════╝

## 📊 Общая схема системы

┌─────────────────────────────────────────────────────────────────────────┐
│                        КЛИЕНТСКИЙ ИНТЕРФЕЙС                            │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────┐  │
│  │    CLI      │  │   Web UI    │  │       API Endpoints            │  │
│  │             │  │             │  │                                 │  │
│  └─────────────┘  └─────────────┘  └─────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                          ЯДРО СИСТЕМЫ                                  │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐    │
│  │   Парсер    │  │  Навигация  │  │  Структура  │  │  Контент    │    │
│  │             │  │             │  │             │  │             │    │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                     ОБРАБОТКА ДАННЫХ                                   │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐    │
│  │    NLP      │  │  Изображения│  │   Анализ    │  │  Валидация  │    │
│  │   Движок    │  │             │  │             │  │             │    │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         ЭКСПОРТ ДАННЫХ                                 │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐    │
│  │    Excel    │  │   Форматтер │  │   Шаблоны   │  │   Бэкапы    │    │
│  │  Генератор  │  │             │  │             │  │             │    │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘    │
└─────────────────────────────────────────────────────────────────────────┘

## 🔧 Компоненты системы

### 🎯 Ядро парсера (Core)
┌─────────────────────────────────────────────────────────────────────────┐
│ CORE MODULES │
├───────────────────┬───────────────────┬─────────────────┬───────────────┤
│ AdaptiveParser │ StructureDetector │ ContentExtractor│ NavManager │
│ │ │ │ │
│ • Координация │ • Автодетект │ • Извлечение │ • Навигация │
│ • Управление │ • Анализ DOM │ • Парсинг │ • Пагинация │
│ • Интеграция │ • Селекторы │ • Нормализация │ • Категории │
└───────────────────┴───────────────────┴─────────────────┴───────────────┘

### 🎨 Обработка контента (Content Processor)
┌─────────────────────────────────────────────────────────────────────────┐
│ CONTENT PROCESSOR │
├──────────────┬──────────────┬──────────────┬──────────────┬─────────────┤
│ TextRewriter │ NlpEngine │ SynonymManager│ ContentValidator │
│ │ │ │ │
│ • Парафраз │ • Анализ │ • Синонимы │ • Проверка │
│ • Рефразинг │ • Лемматизация│ • Словари │ • Валидация │
│ • Адаптация │ • Морфология │ • Контекст │ • Качество │
└──────────────┴──────────────┴──────────────┴──────────────┴─────────────┘

### 🖼️ Обработка изображений (Image Processor)
┌─────────────────────────────────────────────────────────────────────────┐
│ IMAGE PROCESSOR │
├──────────────┬──────────────┬──────────────┬──────────────┬─────────────┤
│Watermark │ Background │ ImageEditor │ PixelManip │ ML Models │
│ Remover │ Handler │ │ │ │
│ │ │ │ │ │
│ • Детекция │ • Удаление │ • Операции │ • Пиксели │ • U2-Net │
│ • Удаление │ • Замена │ • Фильтры │ • Трансформа │ • Детекторы │
│ • Верификация│ • Blending │ • Улучшение │ • Манипуляции│ • ONNX │
└──────────────┴──────────────┴──────────────┴──────────────┴─────────────┘

### 📈 Анализ данных (Data Analyzer)
┌─────────────────────────────────────────────────────────────────────────┐
│ DATA ANALYZER │
├──────────────┬──────────────┬──────────────┬──────────────┬─────────────┤
│ Price │ DataValidator│ TrendAnalyzer│ AlertSystem │ │
│ Comparator │ │ │ │ │
│ │ │ │ │ │
│ • Сравнение │ • Проверка │ • Тренды │ • Уведомления│ │
│ • История │ • Качество │ • Паттерны │ • Мониторинг │ │
│ • Дельта │ • Метрики │ • Прогнозы │ • Отчеты │ │
└──────────────┴──────────────┴──────────────┴──────────────┴─────────────┘

### 💾 Экспорт данных (Exporter)
┌─────────────────────────────────────────────────────────────────────────┐
│ EXPORTER │
├──────────────┬──────────────┬──────────────┬──────────────┬─────────────┤
│ Excel │ DataFormatter│ Template │ Backup │ │
│ Generator │ │ Manager │ Manager │ │
│ │ │ │ │ │
│ • XLSX │ • Форматир. │ • Шаблоны │ • Резервные │ │
│ • Отчеты │ • Трансформа │ • Конфиги │ копии │ │
│ • Диаграммы │ • Нормализ. │ • Стили │ • Восстановл.│ │
└──────────────┴──────────────┴──────────────┴──────────────┴─────────────┘

## 🔄 Поток данных
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│ САЙТ │───▶│ ПАРСИНГ │───▶│ОБРАБОТКА│───▶│ АНАЛИЗ │
└─────────┘ └─────────┘ └─────────┘ └─────────┘
│ │ │ │
▼ ▼ ▼ ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│ HTML │ │ Данные │ │Текст+ │ │Отчеты+ │
│ CSS │ │ товаров │ │Изображ. │ │Статистика
└─────────┘ └─────────┘ └─────────┘ └─────────┘
│
▼
┌─────────┐
│ ЭКСПОРТ │
└─────────┘
│
▼
┌─────────┐
│ Excel │
│ JSON │
└─────────┘

## 🛠️ Технический стек

┌─────────────────┬─────────────────┬─────────────────┬─────────────────┐
│ Frontend │ Backend │ ML/AI │ DevOps │
├─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│ • Python CLI │ • Playwright │ • spaCy │ • Docker │
│ • Rich │ • BeautifulSoup │ • U2-Net │ • Kali Linux │
│ • Questionary │ • Selenium │ • OpenCV │ • GitHub │
│ • PyFiglet │ • Requests │ • NumPy │ • GitHub Actions│
└─────────────────┴─────────────────┴─────────────────┴─────────────────┘

---
*Последнее обновление: 28.10.25 
*Архитектура разработана для масштабирования и модульности*
